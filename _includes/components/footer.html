{% capture footer_custom %}
  {%- include footer_custom.html -%}
{% endcapture %}
<hr>
<footer>
  {% if site.back_to_top %}
    <div class="d-flex" style="gap: 1rem; align-items: center;">
      <div>
        <a href="#top" id="back-to-top">{{ site.back_to_top_text }}</a>
      </div>
      
      {%- assign doc_collection = site.pages | where_exp: 'page', 'page.collection == "docs" or page.path contains "docs/"' | sort: 'path' -%}
      {%- assign current_index = -1 -%}
      {%- for item in doc_collection -%}
        {%- if item.path == page.path -%}
          {%- assign current_index = forloop.index0 -%}
        {%- endif -%}
      {%- endfor -%}
      
      {%- if current_index > 0 -%}
        {%- assign prev_index = current_index | minus: 1 -%}
        {%- assign prev_page = doc_collection[prev_index] -%}
        <a href="{{ prev_page.url | relative_url }}" id="prev-page"></a>
      {%- endif -%}
      
      {%- assign last_index = doc_collection.size | minus: 1 -%}
      {%- if current_index >= 0 and current_index < last_index -%}
        {%- assign next_index = current_index | plus: 1 -%}
        {%- assign next_page = doc_collection[next_index] -%}
        <a href="{{ next_page.url | relative_url }}" id="next-page"></a>
      {%- endif -%}
    </div>
  {% endif %}

  {{ footer_custom }}

  {% if site.last_edit_timestamp or site.gh_edit_link %}
    <div class="d-flex mt-2">
      {% if site.last_edit_timestamp and site.last_edit_time_format and page.last_modified_date %}
        <p class="text-small mb-0 mr-2">
          Page last modified: <span class="d-inline-block">{{ page.last_modified_date | date: site.last_edit_time_format }}</span>.
        </p>
      {% endif %}
      {% if
        site.gh_edit_link and
        site.gh_edit_link_text and
        site.gh_edit_repository and
        site.gh_edit_branch and
        site.gh_edit_view_mode
      %}
        <p class="text-small mb-0">
          <a href="{{ site.gh_edit_repository }}/{{ site.gh_edit_view_mode }}/{{ site.gh_edit_branch }}{% if site.gh_edit_source %}/{{ site.gh_edit_source }}{% endif %}{% if page.collection and site.collections_dir %}/{{ site.collections_dir }}{% endif %}/{{ page.path }}" id="edit-this-page">{{ site.gh_edit_link_text }}</a>
        </p>
      {% endif %}
    </div>
  {% endif %}

  {%- comment -%}
    note: nav_footer_custom and/or this "site footer" appear in components/sidebar.html for the desktop view.
  {%- endcomment -%}

  <div class="d-md-none">
    {% capture nav_footer_custom %}
      {%- include nav_footer_custom.html -%}
    {% endcapture %}
    {% if nav_footer_custom != "" %}
      {{ nav_footer_custom }}
    {% else %}
      <div class="mt-4 fs-2">
        This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
      </div>
    {% endif %}
  </div>
</footer>
